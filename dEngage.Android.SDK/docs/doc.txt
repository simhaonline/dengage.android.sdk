<div>
<div>
<div><span style="font-size: 14px;">İşlemlere başlamadan &ouml;nce Firebase Cloud Messaging servisi ile ilgili aşağıdaki d&ouml;k&uuml;manı okumanızı tavsiye ederiz;</span></div>
<div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div>
<div><a style="color: #0000ee; text-decoration: underline; font-size: 14px;" href="https://firebase.google.com/docs/cloud-messaging/">https://firebase.google.com/docs/cloud-messaging/</a></div>
<div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div><span style="font-size: 14px;">Firebase konsol &uuml;zerinden aldığınız Server Key ve Sender ID değerlerini dEngage aray&uuml;z&uuml;nde tanımladıktan sonra uygulama ile ilgili Application Alias değerini (aşağıdaki &ouml;rneklerde AppAlias) saklayınız.</span></div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div><span style="font-size: 14px;">dEngage Push SDK normalde token oluşturma ile ilgili kodlara sahiptir. Bunun i&ccedil;in yapmanız gereken aşağıdaki tanımları AndroidManifest dosyasında tanımlamak olacaktır. Ayrıca projenizi Firebase&rsquo;e hazır hale getirip Firebase aray&uuml;z&uuml; &uuml;zerinden Google Services adındaki json dosyasını da projeye eklemeniz gerekir.</span></div>
<div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div>
<div><span style="font-size: 14px;">NOT :&nbsp;</span><span style="font-size: 14px; color: #008000; font-family: Menlo; font-weight: bold;">PACKAGE_NAME</span><span style="font-size: 14px; color: #008000; font-family: Menlo; font-weight: bold;">&nbsp;</span><span style="font-size: 14px;">değeri yerine kendi uygulamanızın package name değeri girilmelidir.</span></div>
<div>
<div>
<table style="table-layout: fixed; border-collapse: collapse; min-width: 100%; -evernote-table: true;"><colgroup><col style="width: 710px;" /></colgroup>
<tbody>
<tr>
<td style="border: 1px solid #dbdbdb; width: 710px; padding: 8px;">
<div>
<div style="background-color: #ffffff;">
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div style="background-color: #ffffff; color: #000000; font-family: Menlo; font-size: 9pt;">&lt;<span style="color: #000080; font-weight: bold;">service</span></div>
<div style="background-color: #ffffff; color: #000000; font-family: Menlo; font-size: 9pt;"><span style="color: #000080; font-weight: bold;">&nbsp;&nbsp;&nbsp; </span><span style="color: #660e7a; font-weight: bold;">android</span><span style="color: #0000ff; font-weight: bold;">:name=</span><span style="color: #008000; font-weight: bold;">"com.dengage.sdk.notifications.services.MessagingService"</span>&gt;</div>
<div style="background-color: #ffffff; color: #000000; font-family: Menlo; font-size: 9pt;">&nbsp;&nbsp;&nbsp; &lt;<span style="color: #000080; font-weight: bold;">intent-filter</span>&gt;</div>
<div style="background-color: #ffffff; color: #000000; font-family: Menlo; font-size: 9pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;<span style="color: #000080; font-weight: bold;">action </span><span style="color: #660e7a; font-weight: bold;">android</span><span style="color: #0000ff; font-weight: bold;">:name=</span><span style="color: #008000; font-weight: bold;">"com.google.firebase.MESSAGING_EVENT"</span>/&gt;</div>
<div style="background-color: #ffffff; color: #000000; font-family: Menlo; font-size: 9pt;">&nbsp;&nbsp;&nbsp; &lt;/<span style="color: #000080; font-weight: bold;">intent-filter</span>&gt;</div>
<div style="color: #000000; font-family: Menlo; font-size: 9pt;">&lt;/<span style="color: #000080; font-weight: bold;">service</span>&gt;</div>
</div>
<div>&nbsp;</div>
</div>
</td>
</tr>
</tbody>
</table>
<div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div>
<div><span style="font-size: 14px;">Bu tanımlamalar sayesinde gelen FCM mesajları dEngage tarafından karşılanacaktır. Gelen mesajda notification otomatik olarak &uuml;retilecek ve LAUNCHER Activity &ccedil;alıştırılacaktır. Bu adımdan sonra uygulamanızın Application dosyasını - eğer yoksa - tanımlamanız gerekir. Burada yapmanız gereken yeni bir class oluşturup Application class&rsquo;tan extend etmek ve AndroidManifest dosyasında bunu tanımlamak olacaktır;</span></div>
<div>
<div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div>
<table style="table-layout: fixed; border-collapse: collapse; min-width: 100%; -evernote-table: true;"><colgroup><col style="width: 710px;" /></colgroup>
<tbody>
<tr>
<td style="border: 1px solid #dbdbdb; width: 710px; padding: 8px;">
<div>
<div>
<div style="background-color: #ffffff;">
<div><span style="font-size: 14px;"><span style="font-size: 14px; color: #000000; font-family: Menlo;">&lt;</span><span style="font-size: 14px; color: #000080; font-family: Menlo; font-weight: bold;">application</span></span></div>
<div><span style="font-size: 14px;"><span style="font-size: 14px; color: #000080; font-family: Menlo; font-weight: bold;">&nbsp; &nbsp;</span><span style="font-size: 14px; color: #000000; font-family: Menlo;"><span style="font-size: 14px; color: #660e7a; font-family: Menlo; font-weight: bold;">android</span><span style="font-size: 14px; color: #0000ff; font-family: Menlo; font-weight: bold;">:name=</span><span style="font-size: 14px; color: #008000; font-family: Menlo; font-weight: bold;">".MainApplication"</span></span></span></div>
<div><span style="font-size: 14px;"><span style="font-size: 14px; color: #008000; font-family: Menlo; font-weight: bold;">&nbsp; &nbsp;</span><span style="font-size: 14px; color: #000000; font-family: Menlo;"><span style="font-size: 14px; color: #660e7a; font-family: Menlo; font-weight: bold;">android</span><span style="font-size: 14px; color: #0000ff; font-family: Menlo; font-weight: bold;">:allowBackup=</span><span style="font-size: 14px; color: #008000; font-family: Menlo; font-weight: bold;">"true"</span></span></span></div>
<div><span style="font-size: 14px;"><span style="font-size: 14px; color: #008000; font-family: Menlo; font-weight: bold;">&nbsp; &nbsp;</span><span style="font-size: 14px; color: #000000; font-family: Menlo;"><span style="font-size: 14px; color: #660e7a; font-family: Menlo; font-weight: bold;">android</span><span style="font-size: 14px; color: #0000ff; font-family: Menlo; font-weight: bold;">:icon=</span><span style="font-size: 14px; color: #008000; font-family: Menlo; font-weight: bold;">"@drawable/ic_launcher"</span></span></span></div>
<div><span style="font-size: 14px;"><span style="font-size: 14px; color: #008000; font-family: Menlo; font-weight: bold;">&nbsp; &nbsp;</span><span style="font-size: 14px; color: #000000; font-family: Menlo;"><span style="font-size: 14px; color: #660e7a; font-family: Menlo; font-weight: bold;">android</span><span style="font-size: 14px; color: #0000ff; font-family: Menlo; font-weight: bold;">:label=</span><span style="font-size: 14px; color: #008000; font-family: Menlo; font-weight: bold;">"@string/app_name"</span></span></span></div>
<div><span style="font-size: 14px;"><span style="font-size: 14px; color: #008000; font-family: Menlo; font-weight: bold;">&nbsp; &nbsp;</span><span style="font-size: 14px; color: #000000; font-family: Menlo;"><span style="font-size: 14px; color: #660e7a; font-family: Menlo; font-weight: bold;">android</span><span style="font-size: 14px; color: #0000ff; font-family: Menlo; font-weight: bold;">:theme=</span><span style="font-size: 14px; color: #008000; font-family: Menlo; font-weight: bold;">"@style/AppTheme"&nbsp;</span>&gt;</span></span></div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
</div>
<div>&nbsp;</div>
</div>
</div>
</td>
</tr>
</tbody>
</table>
<div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div>
<div><span style="font-size: 14px;">Aşağıda &ouml;rnek bir implementasyon g&ouml;r&uuml;lmektedir;</span></div>
<div>
<div>
<table style="table-layout: fixed; border-collapse: collapse; min-width: 100%; -evernote-table: true;"><colgroup><col style="width: 710px;" /></colgroup>
<tbody>
<tr>
<td style="border: 1px solid #dbdbdb; width: 710px; padding: 8px;">
<div>
<div style="background-color: #ffffff;">
<div><span style="font-size: 14px;"><span style="font-size: 14px; color: #000080; font-family: Menlo; font-weight: bold;">public&nbsp;class&nbsp;</span><span style="font-size: 14px; color: #000000; font-family: Menlo;">MainApplication&nbsp;</span><span style="font-size: 14px; color: #000080; font-family: Menlo; font-weight: bold;">extends&nbsp;</span><span style="font-size: 14px; color: #000000; font-family: Menlo;">Application&nbsp;{</span></span></div>
<div>&nbsp;</div>
<div><span style="font-size: 14px;"><span style="font-size: 14px; color: #000000; font-family: Menlo;"> &nbsp; &nbsp; </span><span style="font-size: 14px; color: #000080; font-family: Menlo; font-weight: bold;">private&nbsp;final&nbsp;</span><span style="font-size: 14px; color: #000000; font-family: Menlo;">String </span><span style="font-size: 14px; color: #660e7a; font-family: Menlo; font-weight: bold;">AppAlias </span><span style="font-size: 14px; color: #000000; font-family: Menlo;">=&nbsp;</span><span style="font-size: 14px; color: #008000; font-family: Menlo; font-weight: bold;">"com.dengage.samplepushapp"</span><span style="font-size: 14px; color: #000000; font-family: Menlo;">;</span></span></div>
<div>&nbsp;</div>
<div><span style="font-size: 14px;"><span style="font-size: 14px; color: #000000; font-family: Menlo;"> &nbsp; &nbsp; </span><span style="font-size: 14px; color: #000080; font-family: Menlo; font-weight: bold;">private&nbsp;static </span><span style="font-size: 14px; color: #000000; font-family: Menlo;">MobileManager </span><span style="font-size: 14px; color: #660e7a; font-family: Menlo; font-style: italic;">mobileManager</span><span style="font-size: 14px; color: #000000; font-family: Menlo;">;</span></span></div>
<div>&nbsp;</div>
<div><span style="font-size: 14px;"><span style="font-size: 14px; color: #000000; font-family: Menlo;"> &nbsp; &nbsp; </span><span style="font-size: 14px; color: #808000; font-family: Menlo;">@Override</span></span></div>
<div><span style="font-size: 14px;"><span style="font-size: 14px; color: #808000; font-family: Menlo;">&nbsp; &nbsp;</span><span style="font-size: 14px; color: #000000; font-family: Menlo;"><span style="font-size: 14px; color: #000080; font-family: Menlo; font-weight: bold;">public&nbsp;void&nbsp;</span>onCreate()&nbsp;{</span></span></div>
<div><span style="font-size: 14px;"><span style="font-size: 14px; color: #000000; font-family: Menlo;"> &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="font-size: 14px; color: #000080; font-family: Menlo; font-weight: bold;">super</span><span style="font-size: 14px; color: #000000; font-family: Menlo;">.onCreate();</span></span></div>
<div><span style="font-size: 14px;"><span style="font-size: 14px; color: #000000; font-family: Menlo;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Context context = getApplicationContext();</span></span></div>
<div><span style="font-size: 14px;"><span style="font-size: 14px; color: #000000; font-family: Menlo;"> &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="font-size: 14px; color: #000000; font-family: Menlo;">MobileManager.</span><span style="font-size: 14px; color: #000000; font-family: Menlo; font-style: italic;">createInstance</span><span style="font-size: 14px; color: #000000; font-family: Menlo;">(</span><span style="font-size: 14px; color: #660e7a; font-family: Menlo; font-weight: bold;">appAlias, context</span><span style="font-size: 14px; color: #000000; font-family: Menlo;">);</span></span></div>
<div><span style="color: #000000; font-family: Menlo; font-size: 14px;"> &nbsp; &nbsp; }</span></div>
<div>&nbsp;</div>
<div><span style="font-size: 14px;"><span style="font-size: 14px; color: #000000; font-family: Menlo;"> &nbsp; &nbsp; </span><span style="font-size: 14px; color: #000080; font-family: Menlo; font-weight: bold;">public&nbsp;static </span><span style="font-size: 14px; color: #000000; font-family: Menlo;">MobileManager getDengageMobileManager ()&nbsp;{</span></span></div>
<div><span style="font-size: 14px;"><span style="font-size: 14px; color: #000000; font-family: Menlo;"> &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="font-size: 14px; color: #000080; font-family: Menlo; font-weight: bold;">return </span><span style="font-size: 14px; color: #660e7a; font-family: Menlo; font-style: italic;">MobileManager.getInstance()</span><span style="font-size: 14px; color: #000000; font-family: Menlo;">;</span></span></div>
<div><span style="color: #000000; font-family: Menlo; font-size: 14px;"> &nbsp; &nbsp; }</span></div>
</div>
<div>
<div><span style="font-family: Menlo; font-size: 14px;">}</span></div>
<div>&nbsp;</div>
</div>
</div>
</td>
</tr>
</tbody>
</table>
<div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div>
<div><span style="font-size: 14px;">Application sınıfı i&ccedil;erisinde MobileManager sınıfı oluşturulurken <strong>AppAlias</strong> değerlerinin girilmesi gerekir. AppAlias dEngage aray&uuml;z&uuml;nden uygulamanız i&ccedil;in tanımladığınız bir değerdir.&nbsp;</span></div>
<div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div>
<div><span style="font-size: 14px;">Bu adımları ger&ccedil;ekleştirdikten sonra kod i&ccedil;erisinde herhangi bir yerde aşağıdaki metodu &ccedil;ağırarak FCM authentication işlemini başlatabilirsiniz;</span></div>
<div>
<div>
<table style="table-layout: fixed; border-collapse: collapse; min-width: 100%; -evernote-table: true;"><colgroup><col style="width: 710px;" /></colgroup>
<tbody>
<tr>
<td style="border: 1px solid #dbdbdb; width: 710px; padding: 8px;">
<div>
<div style="background-color: #ffffff;"><span style="font-size: 14px;">&nbsp;</span></div>
<div>
<div>
<div style="background-color: #ffffff;">
<div><span style="font-size: 14px;"><span style="background-color: #e4e4ff; font-size: 14px; color: #000000; font-family: Menlo;">MobileManager </span><span style="font-size: 14px; color: #000000; font-family: Menlo;">manager&nbsp;=&nbsp;MainApplication.</span><span style="font-size: 14px; color: #000000; font-family: Menlo; font-style: italic;">getDengageMobileManager </span><span style="font-size: 14px; color: #000000; font-family: Menlo;">();</span></span></div>
</div>
<div>
<div>
<div style="background-color: #ffffff;">
<div><span style="color: #000000; font-family: Menlo; font-size: 14px;">manager.register ();</span></div>
</div>
<div>&nbsp;</div>
</div>
</div>
</div>
</div>
</div>
</td>
</tr>
</tbody>
</table>
<div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div>
<div><span style="font-size: 14px;">Bir mesaj geldiğinde kullanıcı otomatik olarak LAUNCHER Activity&rsquo;e y&ouml;nlendirilecektir. Bu durumda okundu bilgisini yollamak i&ccedil;in Activity i&ccedil;erisinde aşağıdaki metodu implement etmeniz gerekir;</span></div>
<div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div>
<table style="table-layout: fixed; border-collapse: collapse; min-width: 100%; -evernote-table: true;"><colgroup><col style="width: 710px;" /></colgroup>
<tbody>
<tr>
<td style="border: 1px solid #dbdbdb; width: 710px; padding: 8px;">
<div>
<div style="background-color: #ffffff;">
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div><span style="font-size: 14px;"><span style="font-size: 14px; color: #000000; font-family: Menlo;"><span style="font-size: 14px; color: #808000; font-family: Menlo;">@Override</span></span></span></div>
<div><span style="font-size: 14px;"><span style="font-size: 14px; color: #000080; font-family: Menlo; font-weight: bold;">protected&nbsp;void&nbsp;</span><span style="font-size: 14px; color: #000000; font-family: Menlo;">onNewIntent(Intent&nbsp;intent)&nbsp;{</span></span></div>
<div><span style="font-size: 14px;"><span style="font-size: 14px; color: #000000; font-family: Menlo;"> &nbsp; &nbsp; </span><span style="font-size: 14px; color: #000080; font-family: Menlo; font-weight: bold;">super</span><span style="font-size: 14px; color: #000000; font-family: Menlo;">.onNewIntent(intent);</span></span></div>
</div>
<div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div>
<div style="background-color: #ffffff;">
<div><span style="font-size: 14px;"><span style="font-size: 14px; color: #000000; font-family: Menlo;">&nbsp; &nbsp; MobileManager.</span><span style="font-size: 14px; color: #000000; font-family: Menlo; font-style: italic;">getInstance</span><span style="font-size: 14px; color: #000000; font-family: Menlo;">().open(</span><span style="font-size: 14px; color: #000080; font-family: Menlo; font-weight: bold;">new&nbsp;</span><span style="font-size: 14px; color: #000000; font-family: Menlo;">Message(intent.getExtras()));</span></span></div>
<div><span style="color: #000000; font-family: Menlo; font-size: 14px;"> }</span></div>
<div>&nbsp;</div>
</div>
<div>&nbsp;</div>
</div>
</div>
</div>
</td>
</tr>
</tbody>
</table>
<div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div>
<div><span style="font-size: 14px;">Bu şekilde push mesajının i&ccedil;eriği Activity i&ccedil;erisinden okunur. </span><span style="font-size: 14px; font-weight: bold;">open </span><span style="font-size: 14px;">metodu okundu bilgisinin iletilmesi i&ccedil;indir.</span></div>
<div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div>
<div><span style="font-size: 14px;">Eğer uygulamanızda push mesajıyla ilgili geliştirme daha &ouml;nceden yapıldıysa ya da mesaj alınmasını manuel olarak y&ouml;netmek istiyorsanız aşağıdaki adımları takip edebilirsiniz.</span></div>
<div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div>
<div><span style="font-family: 'Helvetica Neue'; font-size: 14px;">Application Alias değeri dEngage aray&uuml;z&uuml;nde oluşturulur. Aşağıdaki &ouml;rneğimizde bu değer Constant adında bir Java sınıfında static olarak tutulmaktadır ve b&uuml;t&uuml;n uygulama i&ccedil;inden kullanılır.</span></div>
<div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div>
<table style="table-layout: fixed; border-collapse: collapse; min-width: 100%; -evernote-table: true;"><colgroup><col style="width: 710px;" /></colgroup>
<tbody>
<tr>
<td style="border: 1px solid #dbdbdb; width: 710px; padding: 8px;">
<div>
<div style="background-color: #ffffff;">
<div><span style="font-size: 14px;"><span style="font-size: 14px; color: #000080; font-family: Menlo; font-weight: bold;">public&nbsp;class&nbsp;</span><span style="font-size: 14px; color: #000000; font-family: Menlo;">Constant&nbsp;{</span></span></div>
<div>&nbsp;</div>
</div>
<div>
<div><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Menlo;">&nbsp; &nbsp; </span><span style="font-size: 14px; color: #000080; font-family: Menlo; font-weight: bold;">public&nbsp;static&nbsp;final&nbsp;</span><span style="font-size: 14px; font-family: Menlo;">String </span><span style="font-size: 14px; color: #660e7a; font-family: Menlo; font-style: italic; font-weight: bold;">AppAlias </span><span style="font-size: 14px; font-family: Menlo;">=&nbsp;</span><span style="font-size: 14px; color: #008000; font-family: Menlo; font-weight: bold;">"</span><span style="font-size: 14px; color: #008000; font-weight: bold;">com.dengage.samplepushapp</span><span style="font-size: 14px; font-family: Menlo;"><span style="font-size: 14px; font-family: Menlo; color: #008000; font-weight: bold;">"</span>;</span></span></div>
<div>
<div><span style="font-family: Menlo; font-size: 14px;">}</span></div>
<div>&nbsp;</div>
</div>
</div>
</div>
</td>
</tr>
</tbody>
</table>
<div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div>
<div><span style="font-size: 14px;">Bu işlemi yaptıktan sonra MobileManager Singleton sınıfını uygulama i&ccedil;inde istediğimiz yerden aşağıdaki gibi &ccedil;ağırabiliriz.</span></div>
<div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div>
<table style="table-layout: fixed; border-collapse: collapse; min-width: 100%; -evernote-table: true;"><colgroup><col style="width: 710px;" /></colgroup>
<tbody>
<tr>
<td style="border: 1px solid #dbdbdb; width: 710px; padding: 8px;">
<div>
<div style="background-color: #ffffff;">
<div><span style="font-size: 14px;"><span style="font-size: 14px; color: #000000; font-family: Menlo;">MobileManager.</span><span style="font-size: 14px; color: #000000; font-family: Menlo; font-style: italic;">getInstance</span><span style="font-size: 14px; color: #000000; font-family: Menlo;">(</span><span style="font-size: 14px; color: #000000; font-family: Menlo;">);</span></span></div>
</div>
<div>&nbsp;</div>
</div>
</td>
</tr>
</tbody>
</table>
<div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div>
<div><span style="font-family: 'Helvetica Neue'; font-size: 14px;">&Ouml;rneğin uygulamada kullanıcıya ait &ccedil;eşitli parametreler biliniyorsa kayıt aşamasında ya da sonrasında aşağıdaki gibi eklenebilir;</span></div>
<div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div>
<table style="table-layout: fixed; border-collapse: collapse; min-width: 100%; -evernote-table: true;"><colgroup><col style="width: 710px;" /></colgroup>
<tbody>
<tr>
<td style="border: 1px solid #dbdbdb; width: 710px; padding: 8px;">
<div>
<div style="background-color: #ffffff;"><span style="font-size: 14px;"><span style="font-size: 14px; color: #000080; font-family: Menlo; font-weight: bold;">final </span><span style="font-size: 14px; color: #000000; font-family: Menlo;">MobileManager manager&nbsp;= </span><span style="font-size: 14px; color: #000000; font-family: Menlo;">MobileManager.<span style="font-size: 14px; color: #000000; font-family: Menlo; font-style: italic;">getInstance</span>();</span></span></div>
<div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div>
<div><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Menlo;">manager.setEmail(</span><span style="font-size: 14px; color: #008000; font-family: Menlo; font-weight: bold;">&ldquo;</span><span style="font-size: 14px; color: #008000; font-family: Menlo; font-weight: bold;">developer@dengage.com"</span><span style="font-size: 14px; font-family: Menlo;">);</span></span></div>
<div>
<div style="background-color: #ffffff;">
<div><span style="font-size: 14px;"><span style="font-size: 14px; color: #000000; font-family: Menlo;">manager.setContactKey(</span><span style="font-size: 14px; color: #008000; font-family: Menlo; font-weight: bold;">"developer"</span><span style="font-size: 14px; color: #000000; font-family: Menlo;">);</span></span></div>
<div><span style="font-size: 14px;"><span style="font-size: 14px; color: #000000; font-family: Menlo;"> manager.setAppVersion(</span><span style="font-size: 14px; color: #008000; font-family: Menlo; font-weight: bold;">"1.1"</span><span style="font-size: 14px; color: #000000; font-family: Menlo;">);</span></span></div>
<div><span style="font-size: 14px;"><span style="font-size: 14px; color: #000000; font-family: Menlo;"> manager.setFacebook(</span><span style="font-size: 14px; color: #008000; font-family: Menlo; font-weight: bold;">"denFB"</span><span style="font-size: 14px; color: #000000; font-family: Menlo;">);</span></span></div>
</div>
<div>
<div><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Menlo;">manager.setTwitterId(</span><span style="font-size: 14px; color: #008000; font-family: Menlo; font-weight: bold;">&ldquo;denTW</span><span style="font-size: 14px; color: #008000; font-family: Menlo; font-weight: bold;">"</span><span style="font-size: 14px; font-family: Menlo;">);</span></span></div>
<div>
<div style="background-color: #ffffff;">
<div><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Menlo;">manager.setGsm(</span><span style="font-size: 14px; color: #008000; font-family: Menlo; font-weight: bold;">&ldquo;</span><span style="font-size: 14px; color: #008000; font-family: Menlo; font-weight: bold;">05320000000"</span><span style="font-size: 14px; font-family: Menlo;">);</span></span></div>
</div>
<div>&nbsp;</div>
</div>
</div>
</div>
</div>
</div>
</div>
</td>
</tr>
</tbody>
</table>
<div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div>
<div><span style="font-size: 14px;">Burada <span style="font-size: 14px; color: #000000; font-family: Menlo;">setContactKey</span> dEngage tarafından kullanıcıya atanmış değerdir ve eşleşmesi durumunda kullanıcının eposta ve mobil hareketleri ortak analiz edilebilir. Bu y&uuml;zden doğru tanımlanması &ccedil;ok &ouml;nemlidir.</span></div>
<div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div>
<div><span style="font-size: 14px;">Kullanıcı ile ilgili kendiniz bir parametre eklemek isterseniz aşağıdaki metodu kullanabilirsiniz;</span></div>
<div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div>
<table style="table-layout: fixed; border-collapse: collapse; min-width: 100%; -evernote-table: true;"><colgroup><col style="width: 710px;" /></colgroup>
<tbody>
<tr>
<td style="border: 1px solid #dbdbdb; width: 710px; padding: 8px;">
<div>
<div style="background-color: #ffffff;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Menlo;">manager.setContactProperty(</span><span style="font-size: 14px; color: #0000ff; font-family: Menlo;">&ldquo;contactKey</span><span style="font-size: 14px; color: #0000ff; font-family: Menlo;">&rdquo;</span><span style="font-size: 14px; font-family: Menlo;">,</span><span style="font-size: 14px; color: #0000ff; font-family: Menlo;">&rdquo;</span><span style="font-size: 14px; color: #0000ff; font-family: Menlo;">value"</span><span style="font-size: 14px; font-family: Menlo;">);</span></span></div>
<div>&nbsp;</div>
</div>
</td>
</tr>
</tbody>
</table>
<div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div>
<div><span style="font-family: 'Helvetica Neue'; font-size: 14px;">Konum değişikliği bildirmek i&ccedil;in aşağıdaki metod kullanılır;</span></div>
<div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div>
<table style="table-layout: fixed; border-collapse: collapse; min-width: 100%; -evernote-table: true;"><colgroup><col style="width: 710px;" /></colgroup>
<tbody>
<tr>
<td style="border: 1px solid #dbdbdb; width: 710px; padding: 8px;">
<div>
<div>
<div style="background-color: #ffffff;">
<div><span style="font-size: 14px;"><span style="font-size: 14px; color: #000000; font-family: Menlo;">manager.setLocation(</span><span style="font-size: 14px; color: #0000ff; font-family: Menlo;">41.12</span><span style="font-size: 14px; color: #000000; font-family: Menlo;">,</span><span style="font-size: 14px; color: #0000ff; font-family: Menlo;">29.11</span><span style="font-size: 14px; color: #000000; font-family: Menlo;">);</span></span></div>
</div>
<div>&nbsp;</div>
</div>
</div>
</td>
</tr>
</tbody>
</table>
<div>
<div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div>
<div>
<div><span style="font-family: 'Helvetica Neue'; font-size: 14px;">Herhangi bir zamanda kullanıcı parametrelerinden birisi g&uuml;ncellenirse (&ouml;rn. kullanıcı login işlemi sonrasında) bu bilgilerin sunucuya g&ouml;nderilmesi gerekir. Bu ama&ccedil;la aşağıdaki kod &ccedil;ağırılabilir.</span></div>
<div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div>
<table style="table-layout: fixed; border-collapse: collapse; min-width: 100%; -evernote-table: true;"><colgroup><col style="width: 710px;" /></colgroup>
<tbody>
<tr>
<td style="border: 1px solid #dbdbdb; width: 710px; padding: 8px;">
<div>
<div style="background-color: #ffffff;">
<div><span style="font-size: 14px;"><span style="background-color: #e4e4ff; font-size: 14px; color: #000000; font-family: Menlo;">MobileManager</span><span style="font-size: 14px; color: #000000; font-family: Menlo;">.</span><span style="font-size: 14px; color: #000000; font-family: Menlo; font-style: italic;">getInstance()</span><span style="font-size: 14px; color: #000000; font-family: Menlo;">.sync();</span></span></div>
</div>
<div>&nbsp;</div>
</div>
</td>
</tr>
</tbody>
</table>
<div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div>
<div><span style="font-size: 14px;">Uygulama GCM servisine kayıt olduğunda Google uygulamaya bir anahtar (push token) atar. Bu anahtar cihaza mesaj g&ouml;ndermek i&ccedil;in kullanılacağından EuroMsg tarafına bildirilmesi &ccedil;ok &ouml;nemlidir. Bu değer aşağıdaki metodla EuroMsg sunucuna iletilir. Bu işlem genelde bir arka plan servisinde ya da AsyncTask i&ccedil;inde ger&ccedil;ekleştirilir.</span></div>
<div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div>
<table style="table-layout: fixed; border-collapse: collapse; min-width: 100%; -evernote-table: true;"><colgroup><col style="width: 710px;" /></colgroup>
<tbody>
<tr>
<td style="border: 1px solid #dbdbdb; width: 710px; padding: 8px;">
<div>
<div>
<div style="background-color: #ffffff;">
<div><span style="font-size: 14px;"><span style="background-color: #e4e4ff; font-size: 14px; color: #000000; font-family: Menlo;">MobileManager</span><span style="font-size: 14px; color: #000000; font-family: Menlo;">.</span><span style="font-size: 14px; color: #000000; font-family: Menlo;"><span style="font-size: 14px; color: #000000; font-family: Menlo; font-style: italic;">getInstance</span>(</span><span style="font-size: 14px; color: #000000; font-family: Menlo;">).subscribe(token);</span></span></div>
</div>
<div>&nbsp;</div>
</div>
</div>
</td>
</tr>
</tbody>
</table>
<div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div>
<div><span style="font-family: 'Helvetica Neue'; font-size: 14px;">Push notification okunduğunda ise aşağıdaki methodun &ccedil;ağırılması gerekir. Bu metod mesajın okunduğu bilgisini Euro Message tarafına iletir ve analiz a&ccedil;ısından olduk&ccedil;a &ouml;nemlidir. Android platformunda mesajlar arka plan servisine g&ouml;nderildiğinden&nbsp;&ldquo;okundu&rdquo; tanımı geliştiricinin insiyatifindedir ve aşağıdaki metodun yeri uygulamanın akışına g&ouml;re değişebilir.</span></div>
<div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div>
<table style="table-layout: fixed; border-collapse: collapse; min-width: 100%; -evernote-table: true;"><colgroup><col style="width: 710px;" /></colgroup>
<tbody>
<tr>
<td style="border: 1px solid #dbdbdb; width: 710px; padding: 8px;">
<div>
<div style="background-color: #ffffff;">
<div><span style="font-size: 14px;"><span style="background-color: #e4e4ff; font-size: 14px; color: #000000; font-family: Menlo;">MobileManager</span><span style="font-size: 14px; color: #000000; font-family: Menlo;">.</span><span style="font-size: 14px; color: #000000; font-family: Menlo; font-style: italic;">getInstance</span><span style="font-size: 14px; color: #000000; font-family: Menlo;">(</span><span style="font-size: 14px; color: #000000; font-family: Menlo;">).read(</span><span style="font-size: 14px; color: #000080; font-family: Menlo; font-weight: bold;">new&nbsp;</span><span style="font-size: 14px; color: #000000; font-family: Menlo;">Message(intent.getExtras()));</span></span></div>
</div>
<div>&nbsp;</div>
</div>
</td>
</tr>
</tbody>
</table>
<div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div><span style="font-size: 14px;">dEngage aray&uuml;z&uuml;nde tanımladığınız değişkenlere Message sınıfı i&ccedil;inden erişebilirsiniz. Gelen Intent tipindeki mesajı new Message(intent) constructor ile Message sınıfına modelleyebilirsiniz. Message sınıfında aşağıdaki değişkenler yer alır;</span></div>
<div>
<div>
<div>
<div>
<div>
<div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div>
<div><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Menlo;">int </span><span style="font-size: 14px; color: #660e7a; font-family: Menlo; font-weight: bold;">messageId</span><span style="font-size: 14px; font-family: Menlo;">- dEngage tarafından g&ouml;nderilen sendId değeri<br /></span></span></div>
<div>
<div><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Menlo;">String </span><span style="font-size: 14px; color: #660e7a; font-family: Menlo; font-weight: bold;">title</span><span style="font-size: 14px; font-family: Menlo;">- G&ouml;nderilen mesajın başlığı</span></span></div>
<div>
<div><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Menlo;">String </span><span style="font-size: 14px; color: #660e7a; font-family: Menlo; font-weight: bold;">subTitle</span><span style="font-size: 14px; font-family: Menlo;">- G&ouml;nderim i&ccedil;in alt başlık.<br /></span></span></div>
<div>
<div><span style="font-size: 14px;"><span style="font-size: 14px; color: #660e7a; font-family: Menlo; font-weight: bold;">Media[] media </span><span style="font-size: 14px; font-family: Menlo;">- G&ouml;nderilen mesaja ait zengin i&ccedil;erik.<br /></span></span></div>
<div>
<div><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Menlo;">String&nbsp;</span><span style="font-size: 14px; color: #660e7a; font-family: Menlo; font-weight: bold;">message</span><span style="font-size: 14px; font-family: Menlo;">&nbsp;- G&ouml;nderilen mesaj</span></span></div>
<div>
<div><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Menlo;">String&nbsp;</span><span style="font-size: 14px; color: #660e7a; font-family: Menlo; font-weight: bold;">sound</span><span style="font-size: 14px; font-family: Menlo;">&nbsp;- Ses dosyası</span></span></div>
<div>
<div>
<div style="background-color: #ffffff;">
<div><span style="font-size: 14px;"><span style="font-size: 14px; color: #000000; font-family: Menlo;">Map&lt;String,&nbsp;String&gt;&nbsp;</span><span style="font-size: 14px; color: #660e7a; font-family: Menlo; font-weight: bold;">params</span><span style="font-size: 14px; color: #000000; font-family: Menlo;"> - Sizin g&ouml;nderdiğiniz diğer paramaterler</span></span></div>
</div>
<div>
<div>
<div>
<div>
<div>
<div>
<div>
<div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div>&nbsp;</div>
<div>&nbsp;</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>