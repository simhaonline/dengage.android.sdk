<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 7.8 (457454)"/><meta name="keywords" content="appcent, euromobile, pigeon"/><meta name="altitude" content="134.0146636962891"/><meta name="author" content="uysalmo@gmail.com"/><meta name="created" content="2015-02-17 15:58:24 +0000"/><meta name="latitude" content="41.06916142585681"/><meta name="longitude" content="28.99258687167552"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2019-01-29 07:26:17 +0000"/><title>EuroMobile Android Dökümanı</title></head><body><div><div
/><div><span style="font-size: 14px;">İşlemlere başlamadan önce Firebase Cloud Messaging servisi ile ilgili aşağıdaki dökümanı okumanızı tavsiye ederiz;</span></div><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><div><a href="https://firebase.google.com/docs/cloud-messaging/" style="color: rgb(0, 0, 238); text-decoration: underline; font-size: 14px;">https://firebase.google.com/docs/cloud-messaging/</a></div><div
/><div><font style="font-size: 14px;"><br/></font></div><div><span style="font-size: 14px;">Firebase konsol üzerinden aldığınız Server Key değerini Euromessage arayüzünde tanımladıktan sonra uygulama ile ilgili anahtar değerini (aşağıdaki örneklerde euroIntegrationId) saklayınız.</span></div><div><font style="font-size: 14px;"><br/></font></div><div><span style="font-size: 14px;">Euromessage Push SDK normalde token oluşturma ile ilgili kodlara sahiptir. Bunun için yapmanız gereken aşağıdaki tanımları AndroidManifest dosyasında tanımlamak olacaktır. Ayrıca projenizi Firebase’e hazır hale getirip Firebase arayüzü üzerinden Google Services adındaki json dosyasını da projeye eklemeniz gerekir.</span></div><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><div><span style="font-size: 14px;">NOT : </span><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">PACKAGE_NAME</span><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;"> </span><span style="font-size: 14px;">değeri yerine kendi uygulamanızın package name değeri girilmelidir.</span></div><div
/><div
/><table style="table-layout: fixed; border-collapse: collapse; min-width: 100%;-evernote-table:true;"><colgroup><col style="width: 710px;"/></colgroup><tbody><tr><td style="border: 1px solid rgb(219, 219, 219); width: 710px; padding: 8px;"><div
/><div style="background-color: rgb(255, 255, 255);"><div><font style="font-size: 14px;"><br/></font></div><div style="background-color:rgb(255, 255, 255);color:rgb(0, 0, 0);font-family:Menlo;font-size:9pt;">&lt;<span style="color: #000080; font-weight: bold;">service</span></div><div style="background-color:rgb(255, 255, 255);color:rgb(0, 0, 0);font-family:Menlo;font-size:9pt;"><span style="color: #000080; font-weight: bold;">    </span><span style="color: #660e7a; font-weight: bold;">android</span><span style="color: #0000ff; font-weight: bold;">:name=</span><span style="color: #008000; font-weight: bold;">"<a href="http://euromsg.com.euromobileandroid.service.EuroFirebaseMessagingService">euromsg.com.euromobileandroid.service.EuroFirebaseMessagingService</a>"</span>&gt;</div><div style="background-color:rgb(255, 255, 255);color:rgb(0, 0, 0);font-family:Menlo;font-size:9pt;">    &lt;<span style="color: #000080; font-weight: bold;">intent-filter</span>&gt;</div><div style="background-color:rgb(255, 255, 255);color:rgb(0, 0, 0);font-family:Menlo;font-size:9pt;">        &lt;<span style="color: #000080; font-weight: bold;">action </span><span style="color: #660e7a; font-weight: bold;">android</span><span style="color: #0000ff; font-weight: bold;">:name=</span><span style="color: #008000; font-weight: bold;">"com.google.firebase.MESSAGING_EVENT"</span>/&gt;</div><div style="background-color:rgb(255, 255, 255);color:rgb(0, 0, 0);font-family:Menlo;font-size:9pt;">    &lt;/<span style="color: #000080; font-weight: bold;">intent-filter</span>&gt;</div><div style="color: rgb(0, 0, 0); font-family: Menlo; font-size: 9pt;">&lt;/<span style="color: #000080; font-weight: bold;">service</span>&gt;</div></div><div
/></td></tr></tbody></table><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><div><span style="font-size: 14px;">Bu tanımlamalar sayesinde gelen FCM mesajları Euromessage tarafından karşılanacaktır. Gelen mesajda notification otomatik olarak üretilecek ve LAUNCHER Activity çalıştırılacaktır. Bu adımdan sonra uygulamanızın Application dosyasını - eğer yoksa - tanımlamanız gerekir. Burada yapmanız gereken yeni bir class oluşturup Application class’tan extend etmek ve AndroidManifest dosyasında bunu tanımlamak olacaktır;</span></div><div
/><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><table style="table-layout: fixed; border-collapse: collapse; min-width: 100%;-evernote-table:true;"><colgroup><col style="width: 710px;"/></colgroup><tbody><tr><td style="border: 1px solid rgb(219, 219, 219); width: 710px; padding: 8px;"><div
/><div
/><div style="background-color: rgb(255, 255, 255);"><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">&lt;</span><span style="font-size: 14px; color: rgb(0, 0, 128); font-family: Menlo; font-weight: bold;">application</span></font></div><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 0, 128); font-family: Menlo; font-weight: bold;">   </span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;" /><span style="font-size: 14px; color: rgb(102, 14, 122); font-family: Menlo; font-weight: bold;">android</span><span style="font-size: 14px; color: rgb(0, 0, 255); font-family: Menlo; font-weight: bold;">:name=</span><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">".MainApplication"</span></font></div><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">   </span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;" /><span style="font-size: 14px; color: rgb(102, 14, 122); font-family: Menlo; font-weight: bold;">android</span><span style="font-size: 14px; color: rgb(0, 0, 255); font-family: Menlo; font-weight: bold;">:allowBackup=</span><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">"true"</span></font></div><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">   </span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;" /><span style="font-size: 14px; color: rgb(102, 14, 122); font-family: Menlo; font-weight: bold;">android</span><span style="font-size: 14px; color: rgb(0, 0, 255); font-family: Menlo; font-weight: bold;">:icon=</span><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">"@drawable/ic_launcher"</span></font></div><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">   </span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;" /><span style="font-size: 14px; color: rgb(102, 14, 122); font-family: Menlo; font-weight: bold;">android</span><span style="font-size: 14px; color: rgb(0, 0, 255); font-family: Menlo; font-weight: bold;">:label=</span><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">"@string/app_name"</span></font></div><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">   </span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;" /><span style="font-size: 14px; color: rgb(102, 14, 122); font-family: Menlo; font-weight: bold;">android</span><span style="font-size: 14px; color: rgb(0, 0, 255); font-family: Menlo; font-weight: bold;">:theme=</span><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">"@style/AppTheme" </span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">&gt;</span></font></div><div><font style="font-size: 14px;"><br/></font></div></div><div
/><div
/></td></tr></tbody></table><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><div><span style="font-size: 14px;">Aşağıda örnek bir implementasyon görülmektedir;</span></div><div
/><div
/><table style="table-layout: fixed; border-collapse: collapse; min-width: 100%;-evernote-table:true;"><colgroup><col style="width: 710px;"/></colgroup><tbody><tr><td style="border: 1px solid rgb(219, 219, 219); width: 710px; padding: 8px;"><div
/><div style="background-color: rgb(255, 255, 255);"><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 0, 128); font-family: Menlo; font-weight: bold;">public class </span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">MainApplication </span><span style="font-size: 14px; color: rgb(0, 0, 128); font-family: Menlo; font-weight: bold;">extends </span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">Application {</span></font></div><div><span style="color: rgb(0, 0, 0); font-family: Menlo; font-size: 14px;"
/></div><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">
    </span><span style="font-size: 14px; color: rgb(0, 0, 128); font-family: Menlo; font-weight: bold;">private final </span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">String </span><span style="font-size: 14px; color: rgb(102, 14, 122); font-family: Menlo; font-weight: bold;">euroIntegrationId </span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">= </span><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">"BENIM_EURO_MSG_TARAFINDAN_VERİLMİŞ_KODUM"</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">;</span></font></div><div><font style="font-size: 14px;"><br/></font></div><div><span style="color: rgb(0, 0, 0); font-family: Menlo; font-size: 14px;"
/></div><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">
    </span><span style="font-size: 14px; color: rgb(0, 0, 128); font-family: Menlo; font-weight: bold;">private static </span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">EuroMobileManager </span><span style="font-size: 14px; color: rgb(102, 14, 122); font-family: Menlo; font-style: italic;">euroMobileManager</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">;</span></font></div><div><span style="color: rgb(0, 0, 0); font-family: Menlo; font-size: 14px;"
/></div><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">
    </span><span style="font-size: 14px; color: rgb(128, 128, 0); font-family: Menlo;">@Override</span></font></div><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(128, 128, 0); font-family: Menlo;">   </span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;" /><span style="font-size: 14px; color: rgb(0, 0, 128); font-family: Menlo; font-weight: bold;">public void </span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">onCreate() {</span></font></div><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">
        </span><span style="font-size: 14px; color: rgb(0, 0, 128); font-family: Menlo; font-weight: bold;">super</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">.onCreate();</span></font></div><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">
        </span><span style="font-size: 14px; color: rgb(102, 14, 122); font-family: Menlo; font-style: italic;">euroMobileManager </span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">= EuroMobileManager.</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo; font-style: italic;">sharedManager</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">(</span><span style="font-size: 14px; color: rgb(102, 14, 122); font-family: Menlo; font-weight: bold;">euroIntegrationId</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">);</span></font></div><div><span style="color: rgb(0, 0, 0); font-family: Menlo; font-size: 14px;">
    }</span></div><div><span style="color: rgb(0, 0, 0); font-family: Menlo; font-size: 14px;"
/></div><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">
    </span><span style="font-size: 14px; color: rgb(0, 0, 128); font-family: Menlo; font-weight: bold;">public static </span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">EuroMobileManager getEuroMobileManager() {</span></font></div><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">
        </span><span style="font-size: 14px; color: rgb(0, 0, 128); font-family: Menlo; font-weight: bold;">return </span><span style="font-size: 14px; color: rgb(102, 14, 122); font-family: Menlo; font-style: italic;">euroMobileManager</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">;</span></font></div><div><span style="color: rgb(0, 0, 0); font-family: Menlo; font-size: 14px;">
    }</span></div></div><div
/><div><span style="font-family: Menlo; font-size: 14px;">}</span></div><div
/></td></tr></tbody></table><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><div><span style="font-size: 14px;">Application sınıfı içerisinde EuroMobileManager sınıfı oluşturulurken INTEGRATION_ID değerlerinin girilmesi gerekir. INTEGRATION_ID EuroMsg arayüzünden uygulamanız için özel oluşturulmuş bir değerdir. </span></div><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><div><span style="font-size: 14px;">Bu adımları gerçekleştirdikten sonra kod içerisinde herhangi bir yerde aşağıdaki metodu çağırarak FCM authentication işlemini başlatabilirsiniz;</span></div><div
/><div
/><table style="table-layout: fixed; border-collapse: collapse; min-width: 100%;-evernote-table:true;"><colgroup><col style="width: 710px;"/></colgroup><tbody><tr><td style="border: 1px solid rgb(219, 219, 219); width: 710px; padding: 8px;"><div
/><div style="background-color: rgb(255, 255, 255);"><font style="font-size: 14px;"><br/></font></div><div
/><div
/><div style="background-color: rgb(255, 255, 255);"><div><font style="font-size: 14px;"><span style="background-color: rgb(228, 228, 255); font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">EuroMobileManager</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;"> manager = MainApplication.</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo; font-style: italic;">getEuroMobileManager</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">();</span></font></div></div><div
/><div
/><div style="background-color: rgb(255, 255, 255);"><div><span style="color: rgb(0, 0, 0); font-family: Menlo; font-size: 14px;">manager.registerToGCM();</span></div></div><div
/></td></tr></tbody></table><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><div><span style="font-size: 14px;">Bir mesaj geldiğinde kullanıcı otomatik olarak LAUNCHER Activity’e yönlendirilecektir. Bu durumda okundu bilgisini yollamak için Activity içerisinde aşağıdaki metodu implement etmeniz gerekir;</span></div><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><table style="table-layout: fixed; border-collapse: collapse; min-width: 100%;-evernote-table:true;"><colgroup><col style="width: 710px;"/></colgroup><tbody><tr><td style="border: 1px solid rgb(219, 219, 219); width: 710px; padding: 8px;"><div
/><div style="background-color: rgb(255, 255, 255);"><div><font style="font-size: 14px;"><br/></font></div><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;"
/><span style="font-size: 14px; color: rgb(128, 128, 0); font-family: Menlo;">@Override</span></font></div><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 0, 128); font-family: Menlo; font-weight: bold;">protected void </span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">onNewIntent(Intent intent) {</span></font></div><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">
    </span><span style="font-size: 14px; color: rgb(0, 0, 128); font-family: Menlo; font-weight: bold;">super</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">.onNewIntent(intent);</span></font></div></div><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><div style="background-color: rgb(255, 255, 255);"><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">    EuroMobileManager.</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo; font-style: italic;">getInstance</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">().reportRead(</span><span style="font-size: 14px; color: rgb(0, 0, 128); font-family: Menlo; font-weight: bold;">new </span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">Message(intent.getExtras()));</span></font></div><div><span style="color: rgb(0, 0, 0); font-family: Menlo; font-size: 14px;">
}</span></div><div><span style="color: rgb(0, 0, 0); font-family: Menlo; font-size: 14px;"
/></div></div><div
/></td></tr></tbody></table><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><div><span style="font-size: 14px;">Bu şekilde push mesajının içeriği Activity içerisinden okunur. </span><span style="font-size: 14px; font-weight: bold;">reportRead</span><span style="font-size: 14px;"> metodu okundu bilgisinin iletilmesi içindir.</span></div><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><div><span style="font-size: 14px;">Eğer uygulamanızda push mesajıyla ilgili geliştirme daha önceden yapıldıysa ya da mesaj alınmasını manuel olarak yönetmek istiyorsanız aşağıdaki adımları takip edebilirsiniz.</span></div><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><div><span style="font-family: &quot;Helvetica Neue&quot;; font-size: 14px;">Application key değeri Euro Message arayüzünde oluşturulur ve uygulamanız için eşsiz (unique) bir değerdir. Aşağıdaki örneğimizde bu değer Constant adında bir Java sınıfında static olarak tutulmaktadır ve bütün uygulama içinden kullanılır.</span></div><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><table style="table-layout: fixed; border-collapse: collapse; min-width: 100%;-evernote-table:true;"><colgroup><col style="width: 710px;"/></colgroup><tbody><tr><td style="border: 1px solid rgb(219, 219, 219); width: 710px; padding: 8px;"><div
/><div style="background-color: rgb(255, 255, 255);"><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 0, 128); font-family: Menlo; font-weight: bold;">public class </span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">Constant {</span></font></div><div><span style="color: rgb(0, 0, 0); font-family: Menlo; font-size: 14px;"
/></div></div><div
/><div><font style="font-size: 14px;"><span style="font-size: 14px; font-family: Menlo;">    </span><span style="font-size: 14px; color: rgb(0, 0, 128); font-family: Menlo; font-weight: bold;">public static final </span><span style="font-size: 14px; font-family: Menlo;">String </span><span style="font-size: 14px; color: rgb(102, 14, 122); font-family: Menlo; font-style: italic; font-weight: bold;">EURO_KEY </span><span style="font-size: 14px; font-family: Menlo;">= </span><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">"</span><span style="font-size: 14px; color: rgb(0, 128, 0); font-weight: bold;">BENIM_EURO_MSG_TARAFINDAN_VERİLMİŞ_KODUM</span><span style="font-size: 14px; font-family: Menlo;"><span style="font-size: 14px; font-family: Menlo; color: rgb(0, 128, 0); font-weight: bold;">"</span>;</span></font></div><div
/><div><span style="font-family: Menlo; font-size: 14px;">}</span></div><div
/></td></tr></tbody></table><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><div><span style="font-size: 14px;">Bu işlemi yaptıktan sonra EuroMobileManager Singleton sınıfını uygulama içinde istediğimiz yerden aşağıdaki gibi çağırabiliriz.</span></div><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><table style="table-layout: fixed; border-collapse: collapse; min-width: 100%;-evernote-table:true;"><colgroup><col style="width: 710px;"/></colgroup><tbody><tr><td style="border: 1px solid rgb(219, 219, 219); width: 710px; padding: 8px;"><div
/><div style="background-color: rgb(255, 255, 255);"><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">EuroMobileManager.</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo; font-style: italic;">sharedManager</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">(getApplicationContext(),Constant.</span><span style="font-size: 14px; color: rgb(102, 14, 122); font-family: Menlo; font-style: italic; font-weight: bold;">EURO_KEY</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">);</span></font></div></div><div
/></td></tr></tbody></table><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><div><span style="font-family: &quot;Helvetica Neue&quot;; font-size: 14px;">Örneğin uygulamada kullanıcıya ait çeşitli parametreler biliniyorsa kayıt aşamasında ya da sonrasında aşağıdaki gibi eklenebilir;</span></div><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><table style="table-layout: fixed; border-collapse: collapse; min-width: 100%;-evernote-table:true;"><colgroup><col style="width: 710px;"/></colgroup><tbody><tr><td style="border: 1px solid rgb(219, 219, 219); width: 710px; padding: 8px;"><div
/><div style="background-color: rgb(255, 255, 255);"><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 0, 128); font-family: Menlo; font-weight: bold;">final </span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">EuroMobileManager manager = EuroMobileManager.</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo; font-style: italic;">sharedManager</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">(getApplicationContext(),Constant.</span><span style="font-size: 14px; color: rgb(102, 14, 122); font-family: Menlo; font-style: italic; font-weight: bold;">EURO_KEY</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">);</span></font></div><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><div><font style="font-size: 14px;"><span style="font-size: 14px; font-family: Menlo;">manager.setEmail(</span><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">“</span><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">ozan.uysal@euromsg.com"</span><span style="font-size: 14px; font-family: Menlo;">);</span></font></div><div
/><div style="background-color: rgb(255, 255, 255);"><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">manager.setEuroUserKey(</span><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">"userOuysal"</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">);</span></font></div><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">
manager.setAppVersion(</span><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">"1.1"</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">);</span></font></div><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">
manager.setFacebook(</span><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">"euroFB"</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">);</span></font></div></div><div
/><div><font style="font-size: 14px;"><span style="font-size: 14px; font-family: Menlo;">manager.setTwitterId(</span><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">“</span><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">euroTW"</span><span style="font-size: 14px; font-family: Menlo;">);</span></font></div><div
/><div style="background-color: rgb(255, 255, 255);"><div><font style="font-size: 14px;"><span style="font-size: 14px; font-family: Menlo;">manager.setMsisdn(</span><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">“</span><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">05320000000"</span><span style="font-size: 14px; font-family: Menlo;">);</span></font></div></div><div
/></td></tr></tbody></table><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><div><span style="font-size: 14px;">Burada EuroUserKey EuroMsg tarafından kullanıcıya atanmış değerdir ve eşleşmesi durumunda kullanıcının eposta ve mobil hareketleri ortak analiz edilebilir. Bu yüzden doğru tanımlanması çok önemlidir.</span></div><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><div><span style="font-size: 14px;">Kullanıcı ile ilgili kendiniz bir parametre eklemek isterseniz aşağıdaki metodu kullanabilirsiniz;</span></div><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><table style="table-layout: fixed; border-collapse: collapse; min-width: 100%;-evernote-table:true;"><colgroup><col style="width: 710px;"/></colgroup><tbody><tr><td style="border: 1px solid rgb(219, 219, 219); width: 710px; padding: 8px;"><div
/><div style="background-color: rgb(255, 255, 255);"><font style="font-size: 14px;"><span style="font-size: 14px; font-family: Menlo;">manager.setUserProperty(</span><span style="font-size: 14px; color: rgb(0, 0, 255); font-family: Menlo;">“userKey</span><span style="font-size: 14px; color: rgb(0, 0, 255); font-family: Menlo;">”</span><span style="font-size: 14px; font-family: Menlo;">,</span><span style="font-size: 14px; color: rgb(0, 0, 255); font-family: Menlo;">”</span><span style="font-size: 14px; color: rgb(0, 0, 255); font-family: Menlo;">userValue"</span><span style="font-size: 14px; font-family: Menlo;">);</span></font></div><div
/></td></tr></tbody></table><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><div><span style="font-family: &quot;Helvetica Neue&quot;; font-size: 14px;">Konum değişikliği bildirmek için aşağıdaki metod kullanılır;</span></div><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><table style="table-layout: fixed; border-collapse: collapse; min-width: 100%;-evernote-table:true;"><colgroup><col style="width: 710px;"/></colgroup><tbody><tr><td style="border: 1px solid rgb(219, 219, 219); width: 710px; padding: 8px;"><div
/><div
/><div style="background-color: rgb(255, 255, 255);"><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">manager.setLocation(</span><span style="font-size: 14px; color: rgb(0, 0, 255); font-family: Menlo;">41.12</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">,</span><span style="font-size: 14px; color: rgb(0, 0, 255); font-family: Menlo;">29.11</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">);</span></font></div></div><div
/><div
/></td></tr></tbody></table><div
/><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><div
/><div><span style="font-family: &quot;Helvetica Neue&quot;; font-size: 14px;">Herhangi bir zamanda kullanıcı parametrelerinden birisi güncellenirse (örn. kullanıcı login işlemi sonrasında) bu bilgilerin sunucuya gönderilmesi gerekir. Bu amaçla aşağıdaki kod çağırılabilir.</span></div><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><table style="table-layout: fixed; border-collapse: collapse; min-width: 100%;-evernote-table:true;"><colgroup><col style="width: 710px;"/></colgroup><tbody><tr><td style="border: 1px solid rgb(219, 219, 219); width: 710px; padding: 8px;"><div
/><div style="background-color: rgb(255, 255, 255);"><div><font style="font-size: 14px;"><span style="background-color: rgb(228, 228, 255); font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">EuroMobileManager</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">.</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo; font-style: italic;">sharedManager</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">(getApplicationContext(), Constant.</span><span style="font-size: 14px; color: rgb(102, 14, 122); font-family: Menlo; font-style: italic; font-weight: bold;">EURO_KEY</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">).sync();</span></font></div></div><div
/></td></tr></tbody></table><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><div><span style="font-size: 14px;">Uygulama GCM servisine kayıt olduğunda Google uygulamaya bir anahtar (push token) atar. Bu anahtar cihaza mesaj göndermek için kullanılacağından EuroMsg tarafına bildirilmesi çok önemlidir. Bu değer aşağıdaki metodla EuroMsg sunucuna iletilir. Bu işlem genelde bir arka plan servisinde ya da AsyncTask içinde gerçekleştirilir.</span></div><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><table style="table-layout: fixed; border-collapse: collapse; min-width: 100%;-evernote-table:true;"><colgroup><col style="width: 710px;"/></colgroup><tbody><tr><td style="border: 1px solid rgb(219, 219, 219); width: 710px; padding: 8px;"><div
/><div
/><div style="background-color: rgb(255, 255, 255);"><div><font style="font-size: 14px;"><span style="background-color: rgb(228, 228, 255); font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">EuroMobileManager</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">.</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo; font-style: italic;">sharedManager</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">(getApplicationContext(),Constant.</span><span style="font-size: 14px; color: rgb(102, 14, 122); font-family: Menlo; font-style: italic; font-weight: bold;">EURO_KEY</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">).subscribe(regid);</span></font></div></div><div
/><div
/></td></tr></tbody></table><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><div><span style="font-family: &quot;Helvetica Neue&quot;; font-size: 14px;">Push notification okunduğunda ise aşağıdaki methodun çağırılması gerekir. Bu metod mesajın okunduğu bilgisini Euro Message tarafına iletir ve analiz açısından oldukça önemlidir. Android platformunda mesajlar arka plan servisine gönderildiğinden “okundu” tanımı geliştiricinin insiyatifindedir ve aşağıdaki metodun yeri uygulamanın akışına göre değişebilir.</span></div><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><table style="table-layout: fixed; border-collapse: collapse; min-width: 100%;-evernote-table:true;"><colgroup><col style="width: 710px;"/></colgroup><tbody><tr><td style="border: 1px solid rgb(219, 219, 219); width: 710px; padding: 8px;"><div
/><div style="background-color: rgb(255, 255, 255);"><div><font style="font-size: 14px;"><span style="background-color: rgb(228, 228, 255); font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">EuroMobileManager</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">.</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo; font-style: italic;">sharedManager</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">(getApplicationContext(), Constant.</span><span style="font-size: 14px; color: rgb(102, 14, 122); font-family: Menlo; font-style: italic; font-weight: bold;">EURO_KEY</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">).reportRead(</span><span style="font-size: 14px; color: rgb(0, 0, 128); font-family: Menlo; font-weight: bold;">new </span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">Message(intent.getExtras()).getPushId());</span></font></div></div><div
/></td></tr></tbody></table><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><div><span style="font-family: &quot;Helvetica Neue&quot;; font-size: 14px;">Eğer uygulamanızda Visilabs SDK kullanıyorsanız okunan mesajı Visilabs’e bildirmek için aşağıdaki metodu kullanabilirsiniz. Çağırılması gereken URL Visilabs SDK’sı içinden üretilir ve setVisiUrl metoduna iletilir.</span></div><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><table style="table-layout: fixed; border-collapse: collapse; min-width: 100%;-evernote-table:true;"><colgroup><col style="width: 710px;"/></colgroup><tbody><tr><td style="border: 1px solid rgb(219, 219, 219); width: 710px; padding: 8px;"><div
/><div
/><div style="background-color: rgb(255, 255, 255);"><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">String visiUrl = Visilabs.</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo; font-style: italic;">CreateAPI</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">(</span><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">"52332F6C70796A757752413D"</span></font></div><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">       </span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;"> , </span><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">"377878514D744237416C553D"</span></font></div><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">       </span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;"> , </span><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">"</span><a href="http://weblogger.visilabs.com/" style="font-size: 14px; font-family: Menlo; font-weight: bold;">http://weblogger.visilabs.com</a><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">"</span></font></div><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">       </span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;"> , </span><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">"euromsgmobilapp"</span></font></div><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">       </span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;"> , </span><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">"</span><a href="http://rt.visilabs.com/" style="font-size: 14px; font-family: Menlo; font-weight: bold;">http://rt.visilabs.com</a><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">"</span></font></div><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">       </span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;"> , </span><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">"Android"</span></font></div><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">       </span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;"> , getApplicationContext()</span></font></div><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">
        , </span><span style="font-size: 14px; color: rgb(0, 0, 255); font-family: Menlo;">5</span></font></div><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 0, 255); font-family: Menlo;">       </span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;"> , </span><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">"</span><a href="http://ssrlgr.visilabs.net/Logging.svc/SendRequest" style="font-size: 14px; font-family: Menlo; font-weight: bold;">http://ssrlgr.visilabs.net/Logging.svc/SendRequest</a><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">"</span></font></div><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">       </span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;"> , </span><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">"54617433456D586B3636715765356868343149636B673D3D"</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">).getPushURL(</span><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">"src"</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">,</span><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">"cmp"</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">,</span><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">"mdm"</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">,</span><span style="font-size: 14px; color: rgb(0, 128, 0); font-family: Menlo; font-weight: bold;">"cnt"</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">);</span></font></div><div><span style="color: rgb(0, 0, 0); font-family: Menlo; font-size: 14px;"
/></div><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">
EuroMobileManager.</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo; font-style: italic;">sharedManager</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">(getApplicationContext(), Constant.</span><span style="font-size: 14px; color: rgb(102, 14, 122); font-family: Menlo; font-style: italic; font-weight: bold;">EURO_KEY</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">).setVisiUrl(visiUrl);</span></font></div></div><div
/><div
/></td></tr></tbody></table><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><div><span style="font-size: 14px;">EuroMsg arayüzünde tanımladığınız değişkenlere Message sınıfı içinden erişebilirsiniz. Gelen Intent tipindeki mesajı new Message(intent) constructor ile Message sınıfına modelleyebilirsiniz. Message sınıfında aşağıdaki değişkenler yer alır;</span></div><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><div><font style="font-size: 14px;"><span style="font-size: 14px; font-family: Menlo;">String </span><span style="font-size: 14px; color: rgb(102, 14, 122); font-family: Menlo; font-weight: bold;">mediaUrl</span><span style="font-size: 14px; font-family: Menlo;"> - Resim veya videoya ait url</span></font></div><div
/><div><font style="font-size: 14px;"><span style="font-size: 14px; font-family: Menlo;">String </span><span style="font-size: 14px; color: rgb(102, 14, 122); font-family: Menlo; font-weight: bold;">altUrl</span><span style="font-size: 14px; font-family: Menlo;"> - Gönderilen bir URL</span><span style="font-size: 14px; font-family: Menlo;">’</span><span style="font-size: 14px; font-family: Menlo;">e ait alternatif URL.</span></font></div><div
/><div><font style="font-size: 14px;"><span style="font-size: 14px; font-family: Menlo;">String </span><span style="font-size: 14px; color: rgb(102, 14, 122); font-family: Menlo; font-weight: bold;">campaignId</span><span style="font-size: 14px; font-family: Menlo;"> - Kampanya ID</span></font></div><div
/><div><font style="font-size: 14px;"><span style="font-size: 14px; font-family: Menlo;">String </span><span style="font-size: 14px; color: rgb(102, 14, 122); font-family: Menlo; font-weight: bold;">url</span><span style="font-size: 14px; font-family: Menlo;"> - Gönderilen kampanya URL</span></font></div><div
/><div><font style="font-size: 14px;"><span style="font-size: 14px; font-family: Menlo;">String </span><span style="font-size: 14px; color: rgb(102, 14, 122); font-family: Menlo; font-weight: bold;">message</span><span style="font-size: 14px; font-family: Menlo;"> - Gönderilen mesaj</span></font></div><div
/><div><font style="font-size: 14px;"><span style="font-size: 14px; font-family: Menlo;">String </span><span style="font-size: 14px; color: rgb(102, 14, 122); font-family: Menlo; font-weight: bold;">sound</span><span style="font-size: 14px; font-family: Menlo;"> - Ses dosyası</span></font></div><div
/><div><font style="font-size: 14px;"><span style="font-size: 14px; font-family: Menlo;">PushType </span><span style="font-size: 14px; color: rgb(102, 14, 122); font-family: Menlo; font-weight: bold;">pushType</span><span style="font-size: 14px; font-family: Menlo;"> - Push tipi</span></font></div><div
/><div style="background-color: rgb(255, 255, 255);"><div><font style="font-size: 14px;"><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;">Map&lt;String, String&gt; </span><span style="font-size: 14px; color: rgb(102, 14, 122); font-family: Menlo; font-weight: bold;">params</span><span style="font-size: 14px; color: rgb(0, 0, 0); font-family: Menlo;"> - Sizin gönderdiğiniz diğer paramaterler</span></font></div></div><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/><div><font style="font-size: 14px;"><br/></font></div><div
/></div><div><br/></div></body></html>